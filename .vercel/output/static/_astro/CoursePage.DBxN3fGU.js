import{w as y}from"./runtime-dom.esm-bundler.5Gt7AxqO.js";import{a as x}from"./vue-router.DyswMU2_.js";import{a as w,b as v}from"./courseQueries._IkP52RI.js";import{g as h}from"./localStorageUtils.BuRq4_r3.js";import{V as L}from"./VideoPlayer.DjHG1H--.js";import{_ as I}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as l,a as e,d as C,t as s,f as a,F as j,g as S,b as N,r as d,h as _,o as n}from"./runtime-core.esm-bundler.Vqe_tuZK.js";import"./client.D6J25A0q.js";/* empty css                            */import"./_commonjsHelpers.D6-XlEtG.js";const D="https://developers.elementor.com/docs/assets/img/elementor-placeholder-image.png",V={__name:"CoursePage",props:{courseId:{type:String,required:!0}},setup(u,{expose:t}){t();const c=u,o=d(!1),m=d(!0),f=x(),r=d({}),g=d(""),p=d(""),k=i=>new Date(i).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});_(async()=>{try{g.value=h("user");const i=await w(c.courseId);r.value=i?.data?.data?.course,r.value.thumbnailId?p.value=await v(r.value.thumbnailId):p.value=D,m.value=!1}catch(i){alert("Failed to load course detail"),console.error("Failed to load course detail",i),m.value=!1}}),console.log(r);const b={props:c,startVideo:o,loading:m,route:f,course:r,userDetails:g,thumbnailSrc:p,defaultThumbnail:D,formatDate:k,buyCourse:async i=>{window.location.href=`/order-checkout/${i}`},onMounted:_,ref:d,get useRoute(){return x},get fetchImageApi(){return v},get getCourseByIdApi(){return w},get getItem(){return h},VideoPlayer:L};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}},E={key:0,class:"flex justify-center items-center h-screen"},P={key:1,class:"flex flex-col lg:flex-row justify-around items-start gap-6"},U={class:"w-full lg:w-[65%] p-6 bg-white rounded-2xl shadow-md mt-6"},A=["src"],B={class:"text-3xl font-semibold text-gray-800 mb-2"},F={class:"text-2xl font-bold text-green-500"},T={class:"flex gap-1"},M={class:"text-sm text-gray-600 mb-4 flex flex-wrap gap-4"},R={class:"text-sm text-gray-600 mb-4 flex flex-wrap gap-4"},O={class:"text-sm text-gray-600 mb-4 flex flex-wrap gap-4"},q={class:"text-gray-700 whitespace-pre-line mb-6 leading-relaxed"},z={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-gray-700 mb-6 bg-gray-100 p-4 rounded-lg shadow-lg"},Y={key:0,class:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-gray-700 mb-6"},G={class:"font-medium text-base text-gray-800 flex justify-between items-center gap-2"},H={key:0,class:"w-full lg:w-[35%] p-6 bg-white border rounded-2xl shadow-md mt-6 flex flex-col items-center justify-between"},J={key:0,class:"w-full h-60 bg-gray-200 rounded-lg mb-6 flex items-center justify-center"},K=["disabled"],Q={key:1,class:"w-full lg:w-[35%] p-6 bg-white border rounded-2xl shadow-md mt-6 flex flex-col items-center justify-between"};function W(u,t,c,o,m,f){return o.loading?(n(),l("div",E,t[2]||(t[2]=[e("span",null,[e("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"4rem",color:"blue"}})],-1)]))):(n(),l("div",P,[e("div",U,[e("img",{src:o.course?.thumbnailUrl||o.thumbnailSrc,alt:"Course Thumbnail",class:"w-full h-64 object-cover rounded-xl mb-6"},null,8,A),e("h1",B,s(o.course?.title?.toUpperCase()),1),e("p",F,s(o.course?.price?"â‚¹"+o.course?.price:"-"),1),e("div",T,[e("span",M,[e("p",null,[t[3]||(t[3]=e("strong",null,"Duration:",-1)),a(" "+s(o.course?.duration?o.course?.duration:"0")+" hours ",1)])]),t[5]||(t[5]=e("p",null,"|",-1)),e("span",R,[e("p",null,[t[4]||(t[4]=e("strong",null,"Lectures:",-1)),a(s(),1)])])]),e("div",O,[e("p",null,[t[6]||(t[6]=e("strong",null,"Level:",-1)),a(" "+s(o.course.level),1)]),e("p",null,[t[7]||(t[7]=e("strong",null,"Language:",-1)),a(" "+s(o.course.language?.name),1)]),e("p",null,[t[8]||(t[8]=e("strong",null,"Category:",-1)),a(" "+s(o.course.category?.name),1)])]),e("p",q,s(o.course.description),1),e("div",z,[e("p",null,[t[9]||(t[9]=e("strong",null,"Start Date:",-1)),a(" "+s(o.formatDate(o.course.startDate)),1)]),e("p",null,[t[10]||(t[10]=e("strong",null,"End Date:",-1)),a(" "+s(o.formatDate(o.course.endDate)),1)]),e("p",null,[t[11]||(t[11]=e("strong",null,"Department:",-1)),a(" "+s(o.course.department?.name),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"Subject:",-1)),a(" "+s(o.course.subject?.name),1)])]),t[15]||(t[15]=e("span",{class:"font-bold text-lg"},"Course Curriculam",-1)),o.course.CourseLession?(n(),l("div",Y,[(n(!0),l(j,null,S(o.course.CourseLession,(r,g)=>(n(),l("div",{key:g,class:"bg-gray-100 rounded-lg p-3 shadow-sm"},[e("p",G,[t[13]||(t[13]=e("i",{class:"pi pi-caret-right",style:{color:"blue"}},null,-1)),e("span",null,s(g+1)+". "+s(r.lectureName),1),t[14]||(t[14]=e("span",{class:"text-green-600 text-sm font-semibold mr-0"},"FREE DEMO",-1))])]))),128))])):C("",!0)]),o.course?.CourseLession.length!==0?(n(),l("div",H,[o.course.videoUrl?(n(),l("div",J,[N(o.VideoPlayer,{videoUrl:o.course.videoUrl,type:u.demo},null,8,["videoUrl","type"])])):C("",!0),e("div",null,[o.userDetails?(n(),l("button",{key:0,disabled:o.loading,class:"px-4 py-2 bg-blue-600 text-white rounded w-48 hover:bg-blue-700 text-sm disabled:opacity-50 cursor-pointer",onClick:t[0]||(t[0]=y(r=>o.buyCourse(o.course.id),["stop"]))},s(o.loading?"Processing...":"Enroll Now"),9,K)):(n(),l("button",{key:1,class:"px-4 py-2 bg-gray-300 text-gray-800 rounded w-48 hover:bg-gray-400 text-sm",onClick:t[1]||(t[1]=y((...r)=>u.redirectToLogin&&u.redirectToLogin(...r),["stop"]))}," Log in to Enroll "))])])):(n(),l("div",Q,t[16]||(t[16]=[e("span",null,"No Lectures Alloted Yet",-1)])))]))}const ie=I(V,[["render",W]]);export{ie as default};
