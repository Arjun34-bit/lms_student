import{a as h,b}from"./courseQueries.C_Y3HYiG.js";import{g as y}from"./localStorageUtils.BuRq4_r3.js";import{_ as D}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as l,a as e,F as C,g as k,r as a,h as v,o as i,t as n,e as u}from"./runtime-core.esm-bundler.lqNYk3e-.js";import"./client.D6J25A0q.js";const S="https://developers.elementor.com/docs/assets/img/elementor-placeholder-image.png",E={__name:"myCourse",setup(x,{expose:t}){t();const d=a(null),s=a([]),p=a({}),g=a({}),o=a({}),m=a(!0),f=r=>new Date(r).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});v(async()=>{try{if(d.value=y("user"),!d.value)return;const r=await h();if(s.value=r?.data?.enrolledCourse||[],!s.value.length)return;const w=[...new Set(s.value.map(c=>c.course.departmentId))];(await b())?.data?.forEach(c=>{w.includes(c.id)&&(p.value[c.id]=c.name)})}catch(r){console.error("Error loading My Courses page:",r)}finally{m.value=!1}});const _={userDetails:d,courses:s,departmentNames:p,subjectNames:g,thumbnails:o,loading:m,defaultThumbnail:S,formatDate:f,goTo:r=>{window.location.href=`/course-program/${r}`},ref:a,onMounted:v,get fetchDepartmentsApi(){return b},get getEnrolledCourse(){return h},get getItem(){return y}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}},I={class:"p-6"},N={key:0,class:"text-gray-500"},T={key:1,class:"grid gap-6 max-w-2xl"},j=["src"],L={class:"p-4"},B={class:"text-xl font-semibold mb-1"},M={class:"text-sm text-gray-600 mb-1"},A={class:"text-sm text-gray-700 space-y-1 mt-2"},F={class:"mt-3 font-bold text-blue-600 text-base"},R={class:""},V=["onClick"],O={key:2,class:"text-gray-500"};function P(x,t,d,s,p,g){return i(),l("div",I,[t[5]||(t[5]=e("h1",{class:"text-2xl font-bold mb-4"},"My Enrolled Courses",-1)),s.loading?(i(),l("div",N,"Loading your courses...")):s.courses.length?(i(),l("div",T,[(i(!0),l(C,null,k(s.courses,(o,m)=>(i(),l("div",{key:m,class:"w-120 bg-white shadow-lg rounded-xl overflow-hidden"},[e("img",{src:o.course.thumbnailUrl||s.defaultThumbnail,alt:"Course Thumbnail",class:"w-full h-52 object-cover"},null,8,j),e("div",L,[e("h2",B,n(o.course.title),1),e("p",M,n(o.course.level),1),e("div",A,[e("p",null,[t[0]||(t[0]=e("span",{class:"font-medium"},"Department:",-1)),u(" "+n(s.departmentNames[o.course.departmentId]||"Loading..."),1)]),e("p",null,[t[1]||(t[1]=e("span",{class:"font-medium"},"Subject:",-1)),u(" "+n(s.subjectNames[o.course.subjectId]||"Loading..."),1)]),e("p",null,[t[2]||(t[2]=e("span",{class:"font-medium"},"Start:",-1)),u(" "+n(s.formatDate(o.course.startDate)),1)]),e("p",null,[t[3]||(t[3]=e("span",{class:"font-medium"},"End:",-1)),u(" "+n(s.formatDate(o.course.endDate)),1)])]),e("p",F," â‚¹"+n(o.course.price),1)]),e("div",R,[e("button",{class:"bg-blue-300 w-full p-3 text-lg font-semibold cursor-pointer hover:scale-110 transition-transform duration-300",onClick:f=>s.goTo(o?.course?.id)},t[4]||(t[4]=[e("i",{class:"pi pi-caret-right",style:{color:"blue"}},null,-1),u("Start Watching ")]),8,V)])]))),128))])):(i(),l("div",O," You have not enrolled in any courses yet. "))])}const J=D(E,[["render",P]]);export{J as default};
