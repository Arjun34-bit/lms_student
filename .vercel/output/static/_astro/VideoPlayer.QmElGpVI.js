const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/video.es.JJtOQPmY.js","_astro/index.CzCXCN60.js","_astro/_commonjsHelpers.D6-XlEtG.js","_astro/videojs-http-source-selector.es.DSg6uvzn.js"])))=>i.map(i=>d[i]);
/* empty css                            */import{c as I,g as ne}from"./_commonjsHelpers.D6-XlEtG.js";import{_ as oe}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as ie,o as ae,a as se,r as N,h as D,T as F}from"./runtime-core.esm-bundler.lqNYk3e-.js";const ue="modulepreload",ce=function(m){return"/"+m},G={},H=function(_,p,g){let v=Promise.resolve();if(p&&p.length>0){let s=function(o){return Promise.all(o.map(c=>Promise.resolve(c).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),h=i?.nonce||i?.getAttribute("nonce");v=s(p.map(o=>{if(o=ce(o),o in G)return;G[o]=!0;const c=o.endsWith(".css"),b=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${b}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":ue,c||(l.as="script"),l.crossOrigin="",l.href=o,h&&l.setAttribute("nonce",h),document.head.appendChild(l),c)return new Promise((L,R)=>{l.addEventListener("load",L),l.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${o}`)))})}))}function t(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return v.then(s=>{for(const i of s||[])i.status==="rejected"&&t(i.reason);return _().catch(t)})};var A,X;function le(){if(X)return A;X=1;var m="Expected a function",_=NaN,p="[object Symbol]",g=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,t=/^0b[01]+$/i,s=/^0o[0-7]+$/i,i=parseInt,h=typeof I=="object"&&I&&I.Object===Object&&I,o=typeof self=="object"&&self&&self.Object===Object&&self,c=h||o||Function("return this")(),b=Object.prototype,l=b.toString,L=Math.max,R=Math.min,$=function(){return c.Date.now()};function J(e,n,a){var f,d,k,j,u,E,S=0,q=!1,T=!1,w=!0;if(typeof e!="function")throw new TypeError(m);n=U(n)||0,x(a)&&(q=!!a.leading,T="maxWait"in a,k=T?L(U(a.maxWait)||0,n):k,w="trailing"in a?!!a.trailing:w);function B(r){var y=f,P=d;return f=d=void 0,S=r,j=e.apply(P,y),j}function Z(r){return S=r,u=setTimeout(O,n),q?B(r):j}function ee(r){var y=r-E,P=r-S,W=n-y;return T?R(W,k-P):W}function M(r){var y=r-E,P=r-S;return E===void 0||y>=n||y<0||T&&P>=k}function O(){var r=$();if(M(r))return V(r);u=setTimeout(O,ee(r))}function V(r){return u=void 0,w&&f?B(r):(f=d=void 0,j)}function te(){u!==void 0&&clearTimeout(u),S=0,f=E=d=u=void 0}function re(){return u===void 0?j:V($())}function C(){var r=$(),y=M(r);if(f=arguments,d=this,E=r,y){if(u===void 0)return Z(E);if(T)return u=setTimeout(O,n),B(E)}return u===void 0&&(u=setTimeout(O,n)),j}return C.cancel=te,C.flush=re,C}function K(e,n,a){var f=!0,d=!0;if(typeof e!="function")throw new TypeError(m);return x(a)&&(f="leading"in a?!!a.leading:f,d="trailing"in a?!!a.trailing:d),J(e,n,{leading:f,maxWait:n,trailing:d})}function x(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function Q(e){return!!e&&typeof e=="object"}function Y(e){return typeof e=="symbol"||Q(e)&&l.call(e)==p}function U(e){if(typeof e=="number")return e;if(Y(e))return _;if(x(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=x(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(g,"");var a=t.test(e);return a||s.test(e)?i(e.slice(2),a?2:8):v.test(e)?_:+e}return A=K,A}var fe=le();const z=ne(fe),de={__name:"VideoPlayer",props:{videoUrl:{type:String,required:!0},start:{type:Boolean,default:!1},type:{type:String,required:!0}},emits:["updatePosition"],setup(m,{expose:_,emit:p}){_();const g=m,v=N(null),t=N(null),s=p,i=z(()=>{if(t.value){const o=t.value.currentTime();s("updatePosition",o)}},1e4);D(async()=>{const o=(await H(async()=>{const{default:c}=await import("./video.es.JJtOQPmY.js");return{default:c}},__vite__mapDeps([0,1,2]))).default;await H(()=>import("./videojs-http-source-selector.es.DSg6uvzn.js"),__vite__mapDeps([3,1,2])),t.value=o(v.value,{controls:!0,autoplay:!1,responsive:!0,fluid:!0,sources:[{src:g.videoUrl,type:"video/mp4"}],playbackRates:[.5,1,1.5,2]}),t.value.ready(()=>{typeof t.value.httpSourceSelector=="function"&&t.value.httpSourceSelector({default:"auto"}),t.value.on("timeupdate",i),t.value.on("pause",()=>{s("updatePosition",t.value.currentTime())}),t.value.on("ended",()=>{s("updatePosition",t.value.currentTime())})})}),F(()=>{t.value&&(g.type==="lecture"&&getCurrentTime(),t.value.off("timeupdate",i),t.value.dispose())});const h={props:g,videoRef:v,player:t,emit:s,emitPosition:i,ref:N,onMounted:D,onBeforeUnmount:F,get throttle(){return z}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},me={class:"media-player"},pe={id:"video-player",ref:"videoRef",class:"video-js vjs-default-skin vjs-big-play-centered rounded-lg shadow-lg w-full",controls:"",preload:"auto"};function ve(m,_,p,g,v,t){return ae(),ie("div",me,[se("video",pe,null,512)])}const be=oe(de,[["render",ve],["__scopeId","data-v-3df84606"]]);export{be as V};
