---
import Layout from '../../layouts/Layout.astro';
import "../../styles/global.css";
import CourseDetailPage from "../../components/courses/CoursePage.vue"
import VueQueryWrapper from "../../vueConfig/VueQueryWrapper.vue"
import { getAllCourseApi } from "../../api/queries/courseQueries";

const { courseId } = Astro.params;

if (!courseId) {
  throw new Error("Missing courseId in URL");
}


export const prerender = false;
// export async function getStaticPaths() {
//   const res = await getAllCourseApi(); 
//   const courses = res?.data || [];

//   return courses.map((course: { id: string }) => ({
//     params: { courseId: course.id },
//     props: { course }, 
//   }));
// }


---

<Layout title="PCC Student" >
  <main>
    <!-- <VueQueryWrapper client:load>           For using useQuery Hook -->
     <CourseDetailPage courseId={courseId} client:load />     

    <!-- </VueQueryWrapper> -->
      
  </main>
</Layout>
